<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>SmartSplat Image Viewer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="image_gaussians/icon.png">
    <link rel="stylesheet" href="https://unpkg.com/normalize.css@8/normalize.css">
    <style>
        body {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            background-color: black;
            color: white;
            font-family: Arial, Helvetica, sans-serif;
        }
        #error {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: red;
        }
    </style>
    <canvas id="canvas" width="100%" height="100%" style="width: 100%;height:100%;"></canvas>
    <div style="display: none;" id="error"><h1>Error</h1><p id="error_msg"></p></div>
</head>

<body>
    <script type="module">
        import init, { WebHandle } from "./gauss_img.js";
        try {
            await init();

            let canvas = document.getElementById("canvas");

            let handle = new WebHandle();
            await handle.start(canvas);
        }
        catch (e) {
            console.error(e);
            document.getElementById("error_msg").innerText = e;
            document.getElementById("error").style.display = "block";
        }
    </script>
</body>

</html>